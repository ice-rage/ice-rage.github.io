import mapDarkTheme from"../json/map-dark-theme.json"assert{type:"json"};!function(){"use strict";const e=document.documentElement;document.querySelector("#js-navToggle").addEventListener("click",(function(){e.classList.toggle("show-nav")}));const t=document.querySelector("#js-eventPP"),n=document.querySelector("#js-openEventBtn");if(t&&n){const s=function(n){function a(){document.removeEventListener("keyup",s),t.removeEventListener("click",s),e.classList.remove("show-event-popup")}switch(n.type){case"keyup":"Escape"!==n.key&&27!==n.keyCode||a();break;case"click":(n.target===this||n.target.classList.contains("js-ppCloseBtn"))&&a()}};n.addEventListener("click",(function(){e.classList.add("show-event-popup"),document.addEventListener("keyup",s),t.addEventListener("click",s)}));document.querySelectorAll(".js-swiper").forEach((function(e){new Swiper(e,{updateOnWindowResize:!0,slidesPerView:"auto",freeMode:!0,spaceBetween:0,speed:500,grabCursor:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-arrow-next",prevEl:".swiper-arrow-prev",disabledClass:"arrow--disabled"}})}))}const s=document.querySelector("#js-upcoming-wrapper"),a=new Image,o=getComputedStyle(s).backgroundImage.slice(4,-1).replace(/"/g,"");a.src=o,a.addEventListener("error",(function(){s.setAttribute("style","background-color: white")})),async function(){await ymaps3.ready;const{YMap:e,YMapDefaultSchemeLayer:t,YMapDefaultFeaturesLayer:n,YMapMarker:s}=ymaps3,a=new e(document.querySelector("#js-infoMap"),{location:{center:[84.96274,56.49387],zoom:15}});if(a){a.addChild(new t({theme:"dark",customization:mapDarkTheme})),a.addChild(new n({}));const e=document.createElement("div");e.className="info-map__placemark";const o=document.createElement("img");o.className="info-map__marker",o.src="assets/images/location.png",e.appendChild(o);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","78px"),i.setAttribute("height","57px"),i.setAttribute("class","info-map__marker-icon");const c=document.createElementNS("http://www.w3.org/2000/svg","use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","assets/icons/symbols.svg#logo"),i.appendChild(c),e.appendChild(i),a.addChild(new s({coordinates:[84.96274,56.49385]},e))}}();const i=$(".js-selectric");i.length&&i.selectric({nativeOnMobile:!1});const c=$(".js-mobileMask");c.length&&c.mask("+7 (000) 000 00 00",{placeholder:"+7 (___) ___ __ __"});const r=$(".js-dateField");if(r.length){const e=function(e){const t=e.find(".js-dateInput"),n=e.find(".js-dateDay"),s=e.find(".js-dateMonth"),a=e.find(".js-dateYear"),o={autoClose:!0,minDate:new Date,navTitles:{days:"MMMM <i>yyyy</i>"},onSelect:function({date:e}){n.val(e?("0"+e.getDate()).slice(-2):""),s.val(e?("0"+(e.getMonth()+1)).slice(-2):""),a.val(e?e.getFullYear():"")}};new AirDatepicker(t[0],o)};$.each(r,(function(){e($(this))}))}}();